<div class="main-content">
  <div class="container-fluid">
    <div class="row">
      <div class="col-md-12">
        <div class="card">
          <form [formGroup]="editUser">
            <div class="card-header card-header-warning card-header-icon">
              <div class="card-icon">
                <i class="material-icons">person</i>
              </div>
              <h4 class="card-title">Editar Usuario</h4>
              <div class="text-right">
                <div class="form-check mr-auto"></div>
                <input
                        mat-raised-button
                        type="button"
                        class="btn btn-fill btn-warning btn-wd"
                        name="password"
                        value="Restaurar Contraseña"
                        (click)="resetPassword(this.editUser.value.nickName)"
                />
              </div>
            </div>
            <div class="card-body">
              <br />
              <div class="row">
                <div class="col-md-6">
                  <mat-form-field
                    class="example-full-width"
                    [ngClass]="displayFieldCss(editUser, 'firstName')"
                  >
                    <input
                      type="text"
                      matInput
                      id="firstName"
                      placeholder="Nombres *"
                      formControlName="firstName"
                    />
                    <app-field-error-display
                      [displayError]="isFieldValid(editUser, 'firstName')"
                      errorMsg="Diligenciar el campo."
                    >
                    </app-field-error-display>
                  </mat-form-field>
                </div>
                <div class="col-md-6">
                  <mat-form-field
                    class="example-full-width"
                    [ngClass]="displayFieldCss(editUser, 'lastName')"
                  >
                    <input
                      type="text"
                      matInput
                      id="lastName"
                      placeholder="Apellidos *"
                      formControlName="lastName"
                    />
                    <app-field-error-display
                      [displayError]="isFieldValid(editUser, 'lastName')"
                      errorMsg="Diligenciar el campo."
                    >
                    </app-field-error-display>
                  </mat-form-field>
                </div>
              </div>
              <div class="row">
                <div class="col-md-6">
                  <mat-form-field
                    class="example-full-width"
                    [ngClass]="displayFieldCss(editUser, 'nickName')"
                  >
                    <input
                      type="text"
                      matInput
                      id="nickName"
                      placeholder="Usuario *"
                      formControlName="nickName"
                    />
                    <app-field-error-display
                      [displayError]="isFieldValid(editUser, 'nickName')"
                      errorMsg="Diligenciar el campo."
                    >
                    </app-field-error-display>
                  </mat-form-field>
                </div>
                <div class="col-md-6">
                  <mat-form-field
                    class="example-full-width"
                    [ngClass]="displayFieldCss(editUser, 'email')"
                  >
                    <input
                      type="email"
                      matInput
                      id="email"
                      placeholder="Correo *"
                      formControlName="email"
                    />
                    <app-field-error-display
                      [displayError]="isFieldValid(editUser, 'email')"
                      errorMsg="Diligenciar el campo."
                    >
                    </app-field-error-display>
                  </mat-form-field>
                </div>
              </div>
              <div class="row">
                <div class="col-md-6">
                  <mat-form-field
                    class="example-full-width"
                    [ngClass]="displayFieldCss(editUser, 'typeDocument')"
                  >
                    <mat-select
                      placeholder="Tipo de Documento"
                      name="typeDocument"
                      id="typeDocument"
                      formControlName="typeDocument"
                    >
                      <mat-option
                        *ngFor="let tipoDocumento of tiposDocumento"
                        [value]="tipoDocumento.id"
                      >
                        {{ tipoDocumento.nombre }}
                      </mat-option>
                    </mat-select>
                    <app-field-error-display
                      [displayError]="isFieldValid(editUser, 'typeDocument')"
                      errorMsg="Diligenciar el campo."
                    >
                    </app-field-error-display>
                  </mat-form-field>
                </div>
                <div class="col-md-6">
                  <mat-form-field
                    class="example-full-width"
                    [ngClass]="displayFieldCss(editUser, 'documentNumber')"
                  >
                    <input
                      type="text"
                      matInput
                      id="documentNumber"
                      placeholder="Documento *"
                      formControlName="documentNumber"
                    />
                    <app-field-error-display
                      [displayError]="isFieldValid(editUser, 'documentNumber')"
                      errorMsg="Diligenciar el campo."
                    >
                    </app-field-error-display>
                  </mat-form-field>
                </div>
              </div>
              <div class="row">
                <div class="col-md-6">
                  <mat-form-field
                    class="example-full-width"
                    [ngClass]="displayFieldCss(editUser, 'role')"
                  >
                    <mat-select placeholder="Rol" name="role" id="role" formControlName="role">
                      <mat-option *ngFor="let role of roles" [value]="role.id">
                        {{ role.name }}
                      </mat-option>
                    </mat-select>
                    <app-field-error-display
                      [displayError]="isFieldValid(editUser, 'role')"
                      errorMsg="Diligenciar el campo."
                    >
                    </app-field-error-display>
                  </mat-form-field>
                </div>
                <div class="col-md-6">
                  <mat-form-field
                    class="example-full-width"
                    [ngClass]="displayFieldCss(editUser, 'company')"
                  >
                    <mat-select
                      placeholder="Compañia"
                      name="company"
                      id="company"
                      formControlName="company"
                    >
                      <mat-option *ngFor="let company of companies" [value]="company.id">
                        {{ company.businessName }}
                      </mat-option>
                    </mat-select>
                    <app-field-error-display
                      [displayError]="isFieldValid(editUser, 'company')"
                      errorMsg="Diligenciar el campo."
                    >
                    </app-field-error-display>
                  </mat-form-field>
                </div>
              </div>
              <div class="category form-category">* Campos Requeridos</div>
            </div>

            <div class="card-footer text-right">
              <div class="form-check mr-auto"></div>
              <input
                      mat-raised-button
                      type="button"
                      class="btn btn-fill btn-link btn-wd"
                      name="volver"
                      value="volver"
                      [routerLink]="'/users/list'"
              />
              <button mat-raised-button type="submit" class="btn btn-success" (click)="onSubmit()">
                Guardar
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
