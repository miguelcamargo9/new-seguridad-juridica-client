<div class="main-content">
  <div class="container-fluid">
    <div class="row">
      <div class="col-md-8">
        <div class="card">
          <div class="card-header card-header-icon card-header-rose">
            <div class="card-icon">
              <i class="material-icons">perm_identity</i>
            </div>
            <h4 class="card-title">Editar Perfil -
              <small class="category"></small>
            </h4>
          </div>
          <div class="card-body">
            <form [formGroup]="editUser">

                <div class="row">
                  <div class="col-md-6">
                    <mat-form-field
                            class="example-full-width"
                            [ngClass]="displayFieldCss(editUser, 'firstName')"
                    >
                      <input
                              type="text"
                              matInput
                              id="firstName"
                              placeholder="Nombres *"
                              formControlName="firstName"
                      />
                      <app-field-error-display
                              [displayError]="isFieldValid(editUser, 'firstName')"
                              errorMsg="Diligenciar el campo."
                      >
                      </app-field-error-display>
                    </mat-form-field>
                  </div>
                  <div class="col-md-6">
                    <mat-form-field
                            class="example-full-width"
                            [ngClass]="displayFieldCss(editUser, 'lastName')"
                    >
                      <input
                              type="text"
                              matInput
                              id="lastName"
                              placeholder="Apellidos *"
                              formControlName="lastName"
                      />
                      <app-field-error-display
                              [displayError]="isFieldValid(editUser, 'lastName')"
                              errorMsg="Diligenciar el campo."
                      >
                      </app-field-error-display>
                    </mat-form-field>
                  </div>
                </div>
                <div class="row">
                  <div class="col-md-6">
                    <mat-form-field
                            class="example-full-width"
                            [ngClass]="displayFieldCss(editUser, 'nickName')"
                    >
                      <input
                              type="text"
                              matInput
                              id="nickName"
                              placeholder="Usuario *"
                              formControlName="nickName"
                      />
                      <app-field-error-display
                              [displayError]="isFieldValid(editUser, 'nickName')"
                              errorMsg="Diligenciar el campo."
                      >
                      </app-field-error-display>
                    </mat-form-field>
                  </div>
                  <div class="col-md-6">
                    <mat-form-field
                            class="example-full-width"
                            [ngClass]="displayFieldCss(editUser, 'email')"
                    >
                      <input
                              type="email"
                              matInput
                              id="email"
                              placeholder="Correo *"
                              formControlName="email"
                      />
                      <app-field-error-display
                              [displayError]="isFieldValid(editUser, 'email')"
                              errorMsg="Diligenciar el campo."
                      >
                      </app-field-error-display>
                    </mat-form-field>
                  </div>
                </div>
                <div class="row">
                  <div class="col-md-6">
                    <mat-form-field
                            class="example-full-width"
                            [ngClass]="displayFieldCss(editUser, 'typeDocument')"
                    >
                      <mat-select
                              placeholder="Tipo de Documento"
                              name="typeDocument"
                              id="typeDocument"
                              formControlName="typeDocument"
                      >
                        <mat-option
                                *ngFor="let tipoDocumento of tiposDocumento"
                                [value]="tipoDocumento.id"
                        >
                          {{ tipoDocumento.nombre }}
                        </mat-option>
                      </mat-select>
                      <app-field-error-display
                              [displayError]="isFieldValid(editUser, 'typeDocument')"
                              errorMsg="Diligenciar el campo."
                      >
                      </app-field-error-display>
                    </mat-form-field>
                  </div>
                  <div class="col-md-6">
                    <mat-form-field
                            class="example-full-width"
                            [ngClass]="displayFieldCss(editUser, 'documentNumber')"
                    >
                      <input
                              type="text"
                              matInput
                              id="documentNumber"
                              placeholder="Documento *"
                              formControlName="documentNumber"
                      />
                      <app-field-error-display
                              [displayError]="isFieldValid(editUser, 'documentNumber')"
                              errorMsg="Diligenciar el campo."
                      >
                      </app-field-error-display>
                    </mat-form-field>
                  </div>
                </div>
                <div class="row">
                  <div class="col-md-6">
                    <mat-form-field
                            class="example-full-width"
                            [ngClass]="displayFieldCss(editUser, 'role')"
                    >
                      <mat-select placeholder="Rol" name="role" id="role" formControlName="role">
                        <mat-option *ngFor="let role of roles" [value]="role.id">
                          {{ role.name }}
                        </mat-option>
                      </mat-select>
                      <app-field-error-display
                              [displayError]="isFieldValid(editUser, 'role')"
                              errorMsg="Diligenciar el campo."
                      >
                      </app-field-error-display>
                    </mat-form-field>
                  </div>
                  <div class="col-md-6">
                    <mat-form-field
                            class="example-full-width"
                            [ngClass]="displayFieldCss(editUser, 'company')"
                    >
                      <mat-select
                              placeholder="Compañia"
                              name="company"
                              id="company"
                              formControlName="company"
                      >
                        <mat-option *ngFor="let company of companies" [value]="company.id">
                          {{ company.businessName }}
                        </mat-option>
                      </mat-select>
                      <app-field-error-display
                              [displayError]="isFieldValid(editUser, 'company')"
                              errorMsg="Diligenciar el campo."
                      >
                      </app-field-error-display>
                    </mat-form-field>
                  </div>
                </div>
                <div class="row">
                  <div class="col-md-6">
                    <mat-form-field
                            class="example-full-width has-label"
                            [ngClass]="displayFieldCss(editUser, 'expireDate')"
                    >
                      <input
                              matInput
                              [matDatepicker]="expireDatepicker"
                              placeholder="Fecha Expiración*"
                              name="expireDate"
                              id="expireDate"
                              (click)="expireDatepicker.open()"
                              formControlName="expireDate"
                      />
                      <mat-datepicker-toggle
                              matSuffix
                              [for]="expireDatepicker"
                      ></mat-datepicker-toggle>
                      <mat-datepicker #expireDatepicker></mat-datepicker>
                      <app-field-error-display
                              [displayError]="isFieldValid(editUser, 'expireDate')"
                              errorMsg="Diligenciar el campo."
                      >
                      </app-field-error-display>
                    </mat-form-field>
                  </div>
                  <div class="col-md-6">
                    <mat-form-field
                            class="example-full-width has-label"
                            [ngClass]="
                              displayFieldCss(editUser, 'active')
                            "
                    >
                      <mat-select
                              placeholder="Activo"
                              name="active"
                              matInput
                              id="active"
                              formControlName="active"
                      >
                        <mat-option *ngFor="let item of tipoSiNo" [value]="item.id">
                          {{ item.nombre }}
                        </mat-option>
                      </mat-select>
                      <app-field-error-display
                              [displayError]="
                                isFieldValid(editUser, 'active')
                              "
                              errorMsg="Diligenciar el campo."
                      >
                      </app-field-error-display>
                    </mat-form-field>
                  </div>
                </div>
<!--                <div class="category form-category">* Campos Requeridos</div>-->
<!--              <div class="card-footer text-right">-->
<!--                <div class="form-check mr-auto"></div>-->
<!--                <button mat-raised-button type="submit" class="btn btn-success" (click)="onSubmit()">-->
<!--                  Guardar-->
<!--                </button>-->
<!--              </div>-->
            </form>
          </div>
        </div>
      </div>
      <div class="col-md-4">
        <div class="card">
          <div class="card-header card-header-icon card-header-rose">
            <div class="card-icon">
              <i class="material-icons">security</i>
            </div>
            <h4 class="card-title">Cambiar Contraseña -
              <small class="category">{{userName}}</small>
            </h4>
          </div>
          <div class="card-body">
            <form [formGroup]="passwordUserFrom">
              <div class="row">
                <div class="col-md-12">
                  <mat-form-field
                          class="example-full-width"
                          [ngClass]="displayFieldCss(passwordUserFrom, 'passwordCurrent')"
                  >
                    <input
                            type="text"
                            matInput
                            id="passwordCurrent"
                            placeholder="Clave Actual *"
                            formControlName="passwordCurrent"
                    />
                    <app-field-error-display
                            [displayError]="isFieldValid(passwordUserFrom, 'passwordCurrent')"
                            errorMsg="Diligenciar el campo."
                    >
                    </app-field-error-display>
                  </mat-form-field>
                </div>
              </div>
              <div class="row">
                <div class="col-md-6">
                  <mat-form-field
                          class="example-full-width"
                          [ngClass]="displayFieldCss(passwordUserFrom, 'password')"
                  >
                    <input
                            type="password"
                            matInput
                            id="password"
                            placeholder="Nueva Clave *"
                            formControlName="password"
                    />
                    <app-field-error-display
                            [displayError]="isFieldValid(passwordUserFrom, 'password')"
                            errorMsg="Diligenciar el campo."
                    >
                    </app-field-error-display>
                  </mat-form-field>
                </div>
                <div class="col-md-6">
                  <mat-form-field
                          class="example-full-width"
                          [ngClass]="displayFieldCss(passwordUserFrom, 'passwordConfirm')"
                  >
                    <input
                            type="password"
                            matInput
                            id="passwordConfirm"
                            placeholder="Confirmar Nueva Clave *"
                            formControlName="passwordConfirm"
                    />
                    <app-field-error-display
                            [displayError]="isFieldValid(passwordUserFrom, 'passwordConfirm')"
                            errorMsg="Diligenciar el campo."
                    >
                    </app-field-error-display>
                  </mat-form-field>
                </div>
              </div>
              <div class="category form-category">* Campos Requeridos</div>
              <div class="card-footer text-right">
                <div class="form-check mr-auto"></div>
                <button mat-raised-button type="submit" class="btn btn-success" (click)="onSubmitPassword()">
                  Actualizar Clave
                </button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
    <div class="row">
        <div class="col-md-3 col-sm-4">
          <div class="card">
            <div class="card-header card-header-icon card-header-rose">
              <div class="card-icon">
                <i class="material-icons">photo</i>
              </div>
              <h4 class="card-title">
                Cambiar Foto
              </h4>
            </div>
            <div class="card-body" style="text-align: center">
              <div class="fileinput fileinput-new text-center" data-provides="fileinput">
                <div class="fileinput-new thumbnail img-circle">
                  <img [src]="photo" alt="avatar">
                </div>
                <div class="fileinput-preview fileinput-exists thumbnail img-circle"></div>
                <div>
                                <span class="btn btn-round btn-rose btn-file">
                                    <span class="fileinput-new">Agregar Foto</span>
                                    <span class="fileinput-exists">Cambiar</span>
                                    <input type="file" name="file"  ng2FileSelect [uploader]="uploader" (onFileSelected)="uploader.uploadAll()" />
                                </span>
<!--                  <br />-->
<!--                  <a href="#pablo" class="btn btn-danger btn-round fileinput-exists" data-dismiss="fileinput"><i class="fa fa-times"></i> Eliminiar</a>-->
                </div>
              </div>
            </div>
          </div>
      </div>
    </div>
  </div>
</div>
